!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.pixiParticles=f()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var ParticleUtils=require("./ParticleUtils"),Particle=require("./Particle"),Texture=PIXI.Texture,AnimatedParticle=function(emitter){Particle.call(this,emitter),this.textures=null,this.duration=0,this.framerate=0,this.elapsed=0,this.loop=!1},s=Particle.prototype,p=AnimatedParticle.prototype=Object.create(s);p.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},p.applyArt=function(art){this.textures=art.textures,this.framerate=art.framerate,this.duration=art.duration,this.loop=art.loop},p.update=function(delta){if(this.Particle_update(delta)>=0){this.elapsed+=delta,this.elapsed>this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6);var frame=this.elapsed*this.framerate+1e-7|0;this.texture=this.textures[frame]||ParticleUtils.EMPTY_TEXTURE}},p.Particle_destroy=Particle.prototype.destroy,p.destroy=function(){this.Particle_destroy(),this.textures=null},AnimatedParticle.parseArt=function(art){var i,data,j,textures,tex,outTextures,output=[];for(i=0;i<art.length;++i){for(data=art[i],art[i]=output={},output.textures=outTextures=[],textures=data.textures,j=0;j<textures.length;++j)if("string"==typeof(tex=textures[j]))outTextures.push(Texture.fromImage(tex));else if(tex instanceof Texture)outTextures.push(tex);else{var dupe=tex.count||1;for(tex="string"==typeof tex.texture?Texture.fromImage(tex.texture):tex.texture;dupe>0;--dupe)outTextures.push(tex)}"matchLife"==data.framerate?(output.framerate=-1,output.duration=0,output.loop=!1):(output.loop=!!data.loop,output.framerate=data.framerate>0?data.framerate:60,output.duration=outTextures.length/output.framerate)}return art},module.exports=AnimatedParticle},{"./Particle":3,"./ParticleUtils":4}],2:[function(require,module,exports){"use strict";var ParticleUtils=require("./ParticleUtils"),Particle=require("./Particle"),ParticleContainer=PIXI.particles.ParticleContainer||PIXI.ParticleContainer,ticker=PIXI.ticker.shared,Emitter=function(particleParent,particleImages,config){this._particleConstructor=Particle,this.particleImages=null,this.startAlpha=1,this.endAlpha=1,this.startSpeed=0,this.endSpeed=0,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=0/0,this.startScale=1,this.endScale=1,this.minimumScaleMultiplier=1,this.startColor=null,this.endColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parentIsPC=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this.parent=particleParent,particleImages&&config&&this.init(particleImages,config),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos},p=Emitter.prototype={},helperPoint=new PIXI.Point;Object.defineProperty(p,"frequency",{get:function(){return this._frequency},set:function(value){this._frequency="number"==typeof value&&value>0?value:1}}),Object.defineProperty(p,"particleConstructor",{get:function(){return this._particleConstructor},set:function(value){if(value!=this._particleConstructor){this._particleConstructor=value,this.cleanup();for(var particle=this._poolFirst;particle;particle=particle.next)particle.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}}}),Object.defineProperty(p,"parent",{get:function(){return this._parent},set:function(value){if(this._parentIsPC)for(var particle=this._poolFirst;particle;particle=particle.next)particle.parent&&particle.parent.removeChild(particle);this.cleanup(),this._parent=value,this._parentIsPC=ParticleContainer&&value&&value instanceof ParticleContainer}}),p.init=function(art,config){if(art&&config){this.cleanup(),this._origConfig=config,this._origArt=art,art=Array.isArray(art)?art.slice():[art];var partClass=this._particleConstructor;this.particleImages=partClass.parseArt?partClass.parseArt(art):art,config.alpha?(this.startAlpha=config.alpha.start,this.endAlpha=config.alpha.end):this.startAlpha=this.endAlpha=1,config.speed?(this.startSpeed=config.speed.start,this.endSpeed=config.speed.end,this.minimumSpeedMultiplier=config.speed.minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=this.endSpeed=0);var acceleration=config.acceleration;acceleration&&(acceleration.x||acceleration.y)?(this.endSpeed=this.startSpeed,this.acceleration=new PIXI.Point(acceleration.x,acceleration.y),this.maxSpeed=config.maxSpeed||0/0):this.acceleration=new PIXI.Point,config.scale?(this.startScale=config.scale.start,this.endScale=config.scale.end,this.minimumScaleMultiplier=config.scale.minimumScaleMultiplier||1):this.startScale=this.endScale=this.minimumScaleMultiplier=1,config.color&&(this.startColor=ParticleUtils.hexToRGB(config.color.start),config.color.start!=config.color.end?this.endColor=ParticleUtils.hexToRGB(config.color.end):this.endColor=null),config.startRotation?(this.minStartRotation=config.startRotation.min,this.maxStartRotation=config.startRotation.max):this.minStartRotation=this.maxStartRotation=0,config.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!config.noRotation:this.noRotation=!1,config.rotationSpeed?(this.minRotationSpeed=config.rotationSpeed.min,this.maxRotationSpeed=config.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=config.lifetime.min,this.maxLifetime=config.lifetime.max,this.particleBlendMode=ParticleUtils.getBlendMode(config.blendMode),config.ease?this.customEase="function"==typeof config.ease?config.ease:ParticleUtils.generateEase(config.ease):this.customEase=null,partClass.parseData?this.extraData=partClass.parseData(config.extraData):this.extraData=config.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0;var spawnCircle;switch(config.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var spawnRect=config.spawnRect;this.spawnRect=new PIXI.Rectangle(spawnRect.x,spawnRect.y,spawnRect.w,spawnRect.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,spawnCircle=config.spawnCircle,this.spawnCircle=new PIXI.Circle(spawnCircle.x,spawnCircle.y,spawnCircle.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,spawnCircle=config.spawnCircle,this.spawnCircle=new PIXI.Circle(spawnCircle.x,spawnCircle.y,spawnCircle.r),this.spawnCircle.minRadius=spawnCircle.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particlesPerWave=config.particlesPerWave,this.particleSpacing=config.particleSpacing,this.angleStart=config.angleStart?config.angleStart:0;break;case"point":default:this.spawnType="point",this._spawnFunc=this._spawnPoint}this.frequency=config.frequency,this.emitterLifetime=config.emitterLifetime||-1,this.maxParticles=config.maxParticles>0?config.maxParticles:1e3,this.addAtBack=!!config.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(config.pos.x,config.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===config.emit||!!config.emit,this.autoUpdate=void 0!==config.autoUpdate&&!!config.autoUpdate}},p.recycle=function(particle){particle.next&&(particle.next.prev=particle.prev),particle.prev&&(particle.prev.next=particle.next),particle==this._activeParticlesLast&&(this._activeParticlesLast=particle.prev),particle==this._activeParticlesFirst&&(this._activeParticlesFirst=particle.next),particle.prev=null,particle.next=this._poolFirst,this._poolFirst=particle,this._parentIsPC?(particle.alpha=0,particle.visible=!1):particle.parent&&particle.parent.removeChild(particle),--this.particleCount},p.rotate=function(newRot){if(this.rotation!=newRot){var diff=newRot-this.rotation;this.rotation=newRot,ParticleUtils.rotatePoint(diff,this.spawnPos),this._posChanged=!0}},p.updateSpawnPos=function(x,y){this._posChanged=!0,this.spawnPos.x=x,this.spawnPos.y=y},p.updateOwnerPos=function(x,y){this._posChanged=!0,this.ownerPos.x=x,this.ownerPos.y=y},p.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(p,"emit",{get:function(){return this._emit},set:function(value){this._emit=!!value,this._emitterLife=this.emitterLifetime}}),Object.defineProperty(p,"autoUpdate",{get:function(){return this._autoUpdate},set:function(value){this._autoUpdate&&!value?ticker.remove(this.update,this):!this._autoUpdate&&value&&ticker.add(this.update,this),this._autoUpdate=!!value}}),p.playOnceAndDestroy=function(){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0},p.update=function(delta){if(this._autoUpdate&&(delta=delta/PIXI.settings.TARGET_FPMS/1e3),this._parent){var i,particle,next;for(particle=this._activeParticlesFirst;particle;particle=next)next=particle.next,particle.update(delta);var prevX,prevY;this._prevPosIsValid&&(prevX=this._prevEmitterPos.x,prevY=this._prevEmitterPos.y);var curX=this.ownerPos.x+this.spawnPos.x,curY=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=delta;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var lifetime;if(lifetime=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<lifetime){var emitPosX,emitPosY;if(this._prevPosIsValid&&this._posChanged){var lerp=1+this._spawnTimer/delta;emitPosX=(curX-prevX)*lerp+prevX,emitPosY=(curY-prevY)*lerp+prevY}else emitPosX=curX,emitPosY=curY;i=0;for(var len=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);i<len;++i){var p,rand;if(this._poolFirst?(p=this._poolFirst,this._poolFirst=this._poolFirst.next,p.next=null):p=new this.particleConstructor(this),this.particleImages.length>1?p.applyArt(this.particleImages.random()):p.applyArt(this.particleImages[0]),p.startAlpha=this.startAlpha,p.endAlpha=this.endAlpha,1!=this.minimumSpeedMultiplier?(rand=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier,p.startSpeed=this.startSpeed*rand,p.endSpeed=this.endSpeed*rand):(p.startSpeed=this.startSpeed,p.endSpeed=this.endSpeed),p.acceleration.x=this.acceleration.x,p.acceleration.y=this.acceleration.y,p.maxSpeed=this.maxSpeed,1!=this.minimumScaleMultiplier?(rand=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier,p.startScale=this.startScale*rand,p.endScale=this.endScale*rand):(p.startScale=this.startScale,p.endScale=this.endScale),p.startColor=this.startColor,p.endColor=this.endColor,this.minRotationSpeed==this.maxRotationSpeed?p.rotationSpeed=this.minRotationSpeed:p.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,p.noRotation=this.noRotation,p.maxLife=lifetime,p.blendMode=this.particleBlendMode,p.ease=this.customEase,p.extraData=this.extraData,this._spawnFunc(p,emitPosX,emitPosY,i),p.init(),p.update(-this._spawnTimer),this._parentIsPC&&p.parent){var children=this._parent.children;if(children[0]==p)children.shift();else if(children[children.length-1]==p)children.pop();else{var index=children.indexOf(p);children.splice(index,1)}this.addAtBack?children.unshift(p):children.push(p)}else this.addAtBack?this._parent.addChildAt(p,0):this._parent.addChild(p);this._activeParticlesLast?(this._activeParticlesLast.next=p,p.prev=this._activeParticlesLast,this._activeParticlesLast=p):this._activeParticlesLast=this._activeParticlesFirst=p,++this.particleCount}}this._spawnTimer+=this._frequency}}this._posChanged&&(this._prevEmitterPos.x=curX,this._prevEmitterPos.y=curY,this._prevPosIsValid=!0,this._posChanged=!1),!this._destroyWhenComplete||this._emit||this._activeParticlesFirst||this.destroy()}},p._spawnPoint=function(p,emitPosX,emitPosY){this.minStartRotation==this.maxStartRotation?p.rotation=this.minStartRotation+this.rotation:p.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,p.position.x=emitPosX,p.position.y=emitPosY},p._spawnRect=function(p,emitPosX,emitPosY){this.minStartRotation==this.maxStartRotation?p.rotation=this.minStartRotation+this.rotation:p.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,helperPoint.x=Math.random()*this.spawnRect.width+this.spawnRect.x,helperPoint.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&ParticleUtils.rotatePoint(this.rotation,helperPoint),p.position.x=emitPosX+helperPoint.x,p.position.y=emitPosY+helperPoint.y},p._spawnCircle=function(p,emitPosX,emitPosY){this.minStartRotation==this.maxStartRotation?p.rotation=this.minStartRotation+this.rotation:p.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,helperPoint.x=Math.random()*this.spawnCircle.radius,helperPoint.y=0,ParticleUtils.rotatePoint(360*Math.random(),helperPoint),helperPoint.x+=this.spawnCircle.x,helperPoint.y+=this.spawnCircle.y,0!==this.rotation&&ParticleUtils.rotatePoint(this.rotation,helperPoint),p.position.x=emitPosX+helperPoint.x,p.position.y=emitPosY+helperPoint.y},p._spawnRing=function(p,emitPosX,emitPosY){var spawnCircle=this.spawnCircle;this.minStartRotation==this.maxStartRotation?p.rotation=this.minStartRotation+this.rotation:p.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,spawnCircle.minRadius==spawnCircle.radius?helperPoint.x=Math.random()*(spawnCircle.radius-spawnCircle.minRadius)+spawnCircle.minRadius:helperPoint.x=spawnCircle.radius,helperPoint.y=0;var angle=360*Math.random();p.rotation+=angle,ParticleUtils.rotatePoint(angle,helperPoint),helperPoint.x+=this.spawnCircle.x,helperPoint.y+=this.spawnCircle.y,0!==this.rotation&&ParticleUtils.rotatePoint(this.rotation,helperPoint),p.position.x=emitPosX+helperPoint.x,p.position.y=emitPosY+helperPoint.y},p._spawnBurst=function(p,emitPosX,emitPosY,i){0===this.particleSpacing?p.rotation=360*Math.random():p.rotation=this.angleStart+this.particleSpacing*i+this.rotation,p.position.x=emitPosX,p.position.y=emitPosY},p.cleanup=function(){var particle,next;for(particle=this._activeParticlesFirst;particle;particle=next)next=particle.next,this.recycle(particle),particle.parent&&particle.parent.removeChild(particle);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},p.destroy=function(){this.autoUpdate=!1,this.cleanup();for(var next,particle=this._poolFirst;particle;particle=next)next=particle.next,particle.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.endColor=this.customEase=null},module.exports=Emitter},{"./Particle":3,"./ParticleUtils":4}],3:[function(require,module,exports){var ParticleUtils=require("./ParticleUtils"),Sprite=PIXI.Sprite,Particle=function(emitter){Sprite.call(this),this.emitter=emitter,this.anchor.x=this.anchor.y=.5,this.velocity=new PIXI.Point,this.maxLife=0,this.age=0,this.ease=null,this.extraData=null,this.startAlpha=0,this.endAlpha=0,this.startSpeed=0,this.endSpeed=0,this.acceleration=new PIXI.Point,this.maxSpeed=0/0,this.startScale=0,this.endScale=0,this.startColor=null,this._sR=0,this._sG=0,this._sB=0,this.endColor=null,this._eR=0,this._eG=0,this._eB=0,this._doAlpha=!1,this._doScale=!1,this._doSpeed=!1,this._doAcceleration=!1,this._doColor=!1,this._doNormalMovement=!1,this._oneOverLife=0,this.next=null,this.prev=null,this.init=this.init,this.Particle_init=this.Particle_init,this.update=this.update,this.Particle_update=this.Particle_update,this.applyArt=this.applyArt,this.kill=this.kill},p=Particle.prototype=Object.create(Sprite.prototype);p.init=p.Particle_init=function(){this.age=0,this.velocity.x=this.startSpeed,this.velocity.y=0,ParticleUtils.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=ParticleUtils.DEG_TO_RADS,this.rotationSpeed*=ParticleUtils.DEG_TO_RADS,this.alpha=this.startAlpha,this.scale.x=this.scale.y=this.startScale,this.startColor&&(this._sR=this.startColor[0],this._sG=this.startColor[1],this._sB=this.startColor[2],this.endColor&&(this._eR=this.endColor[0],this._eG=this.endColor[1],this._eB=this.endColor[2])),this._doAlpha=this.startAlpha!=this.endAlpha,this._doSpeed=this.startSpeed!=this.endSpeed,this._doScale=this.startScale!=this.endScale,this._doColor=!!this.endColor,this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y,this._doNormalMovement=this._doSpeed||0!==this.startSpeed||this._doAcceleration,this._oneOverLife=1/this.maxLife,this.tint=ParticleUtils.combineRGBComponents(this._sR,this._sG,this._sB),this.visible=!0},p.applyArt=function(art){this.texture=art||ParticleUtils.EMPTY_TEXTURE},p.update=p.Particle_update=function(delta){if(this.age+=delta,this.age>=this.maxLife)return this.kill(),-1;var lerp=this.age*this._oneOverLife;if(this.ease&&(lerp=4==this.ease.length?this.ease(lerp,0,1,1):this.ease(lerp)),this._doAlpha&&(this.alpha=(this.endAlpha-this.startAlpha)*lerp+this.startAlpha),this._doScale){var scale=(this.endScale-this.startScale)*lerp+this.startScale;this.scale.x=this.scale.y=scale}if(this._doNormalMovement){if(this._doSpeed){var speed=(this.endSpeed-this.startSpeed)*lerp+this.startSpeed;ParticleUtils.normalize(this.velocity),ParticleUtils.scaleBy(this.velocity,speed)}else if(this._doAcceleration&&(this.velocity.x+=this.acceleration.x*delta,this.velocity.y+=this.acceleration.y*delta,this.maxSpeed)){var currentSpeed=ParticleUtils.length(this.velocity);currentSpeed>this.maxSpeed&&ParticleUtils.scaleBy(this.velocity,this.maxSpeed/currentSpeed)}this.position.x+=this.velocity.x*delta,this.position.y+=this.velocity.y*delta}if(this._doColor){var r=(this._eR-this._sR)*lerp+this._sR,g=(this._eG-this._sG)*lerp+this._sG,b=(this._eB-this._sB)*lerp+this._sB;this.tint=ParticleUtils.combineRGBComponents(r,g,b)}return 0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*delta:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),lerp},p.kill=function(){this.emitter.recycle(this)},p.Sprite_Destroy=Sprite.prototype.destroy,p.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_Destroy&&this.Sprite_Destroy(),this.emitter=this.velocity=this.startColor=this.endColor=this.ease=this.next=this.prev=null},Particle.parseArt=function(art){var i;for(i=art.length;i>=0;--i)"string"==typeof art[i]&&(art[i]=PIXI.Texture.fromImage(art[i]));if(ParticleUtils.verbose)for(i=art.length-1;i>0;--i)if(art[i].baseTexture!=art[i-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return art},Particle.parseData=function(extraData){return extraData},module.exports=Particle},{"./ParticleUtils":4}],4:[function(require,module,exports){"use strict";var BLEND_MODES=PIXI.BLEND_MODES||PIXI.blendModes,Texture=PIXI.Texture,ParticleUtils={};ParticleUtils.verbose=!1;var DEG_TO_RADS=ParticleUtils.DEG_TO_RADS=Math.PI/180,empty=ParticleUtils.EMPTY_TEXTURE=Texture.EMPTY;empty.on=empty.destroy=empty.once=empty.emit=function(){},ParticleUtils.rotatePoint=function(angle,p){if(angle){angle*=DEG_TO_RADS;var s=Math.sin(angle),c=Math.cos(angle),xnew=p.x*c-p.y*s,ynew=p.x*s+p.y*c;p.x=xnew,p.y=ynew}},ParticleUtils.combineRGBComponents=function(r,g,b){return r<<16|g<<8|b},ParticleUtils.normalize=function(point){var oneOverLen=1/ParticleUtils.length(point);point.x*=oneOverLen,point.y*=oneOverLen},ParticleUtils.scaleBy=function(point,value){point.x*=value,point.y*=value},ParticleUtils.length=function(point){return Math.sqrt(point.x*point.x+point.y*point.y)},ParticleUtils.hexToRGB=function(color,output){output?output.length=0:output=[],"#"==color.charAt(0)?color=color.substr(1):0===color.indexOf("0x")&&(color=color.substr(2));var alpha;return 8==color.length&&(alpha=color.substr(0,2),color=color.substr(2)),output.push(parseInt(color.substr(0,2),16)),output.push(parseInt(color.substr(2,2),16)),output.push(parseInt(color.substr(4,2),16)),alpha&&output.push(parseInt(alpha,16)),output},ParticleUtils.generateEase=function(segments){var qty=segments.length,oneOverQty=1/qty;return function(time){var t,s,i=qty*time|0;return t=(time-i*oneOverQty)*qty,s=segments[i]||segments[qty-1],s.s+t*(2*(1-t)*(s.cp-s.s)+t*(s.e-s.s))}},ParticleUtils.getBlendMode=function(name){if(!name)return BLEND_MODES.NORMAL;for(name=name.toUpperCase();name.indexOf(" ")>=0;)name=name.replace(" ","_");return BLEND_MODES[name]||BLEND_MODES.NORMAL},module.exports=ParticleUtils},{}],5:[function(require,module,exports){"use strict";var ParticleUtils=require("./ParticleUtils"),Particle=require("./Particle"),PathParticle=function(emitter){Particle.call(this,emitter),this.path=null,this.initialRotation=0,this.initialPosition=new PIXI.Point,this.movement=0},s=Particle.prototype,p=PathParticle.prototype=Object.create(s),helperPoint=new PIXI.Point;p.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y};for(var MATH_FUNCS=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],WHITELISTER="[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]",index=MATH_FUNCS.length-1;index>=0;--index)WHITELISTER+="|"+MATH_FUNCS[index];WHITELISTER=new RegExp(WHITELISTER,"g");var parsePath=function(pathString){for(var rtn,matches=pathString.match(WHITELISTER),i=matches.length-1;i>=0;--i)MATH_FUNCS.indexOf(matches[i])>=0&&(matches[i]="Math."+matches[i]);pathString=matches.join(""),eval("rtn = function(x){ return "+pathString+"; };")};p.update=function(delta){var lerp=this.Particle_update(delta);if(lerp>=0&&this.path){var speed=(this.endSpeed-this.startSpeed)*lerp+this.startSpeed;this.movement+=speed*delta,helperPoint.x=this.movement,helperPoint.y=this.path(this.movement),ParticleUtils.rotatePoint(this.initialRotation,helperPoint),this.position.x=this.initialPosition.x+helperPoint.x,this.position.y=this.initialPosition.y+helperPoint.y}},p.Particle_destroy=Particle.prototype.destroy,p.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},PathParticle.parseArt=function(art){return Particle.parseArt(art)},PathParticle.parseData=function(extraData){var output={};if(extraData&&extraData.path)try{output.path=parsePath(extraData.path)}catch(e){ParticleUtils.verbose&&console.error("PathParticle: error in parsing path expression"),output.path=null}else ParticleUtils.verbose&&console.error("PathParticle requires a path string in extraData!"),output.path=null;return output},module.exports=PathParticle},{"./Particle":3,"./ParticleUtils":4}],6:[function(require,module,exports){},{}],7:[function(require,module,exports){require("./polyfills.js"),exports.ParticleUtils=require("./ParticleUtils.js"),exports.Particle=require("./Particle.js"),exports.Emitter=require("./Emitter.js"),exports.PathParticle=require("./PathParticle.js"),exports.AnimatedParticle=require("./AnimatedParticle.js"),require("./deprecation.js")},{"./AnimatedParticle.js":1,"./Emitter.js":2,"./Particle.js":3,"./ParticleUtils.js":4,"./PathParticle.js":5,"./deprecation.js":6,"./polyfills.js":8}],8:[function(require,module,exports){Array.prototype.shuffle||Object.defineProperty(Array.prototype,"shuffle",{enumerable:!1,writable:!1,value:function(){for(var j,x,i=this.length;i;j=Math.floor(Math.random()*i),x=this[--i],this[i]=this[j],this[j]=x);return this}}),Array.prototype.random||Object.defineProperty(Array.prototype,"random",{enumerable:!1,writable:!1,value:function(){return this[Math.floor(Math.random()*this.length)]}})},{}],9:[function(require,module,exports){"use strict";var global="undefined"!=typeof window?window:GLOBAL;if(global.PIXI.particles||(global.PIXI.particles={}),void 0!==module&&module.exports)"undefined"==typeof PIXI&&require("pixi.js"),module.exports=global.PIXI.particles||particles;else if("undefined"==typeof PIXI)throw"pixi-particles requires pixi.js to be loaded first";var particles=require("./particles");for(var prop in particles)global.PIXI.particles[prop]=particles[prop]},{"./particles":7,"pixi.js":void 0}]},{},[9])(9)});